<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Новости</title>
    <link rel="stylesheet" href="css\style.css">
    <link rel="stylesheet" href="news.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="canonical" href="https://trota-project.ru/news.html">
    <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(101394551, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/101394551" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
  <style>

    main {
      width: 80%; /* Занимает 80% ширины экрана */
      max-width: 1200px; /* Максимальная ширина */
      margin: 0 auto; /* Центрирование */
      padding: 20px;
      background-color: #15202b; /* Белый фон main */
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Легкая тень */
    }

    /* Стили для контейнера постов (вертикальный) */
    #telegram-posts {
      margin-bottom: 20px;
    }

    /* Стили для отдельного поста (с вертикальной прокруткой) */
    .post-container {
      width: 60%; /* Занимает 60% ширины main */
      margin: 0 auto 20px; /* Центрирование и отступ снизу */
      border-radius: 5px;
      padding: 10px;
      box-sizing: border-box; /* Чтобы padding не увеличивал ширину */
      height: 300px; /* Фиксированная высота */
      overflow-y: auto; /* Вертикальная прокрутка */
    }

    /* Стили для кнопок пагинации */
    .pagination {
      text-align: center;
      margin-top: 20px;
    }

    .pagination button {
      padding: 8px 16px;
      margin: 5px;
      border: none;
      background-color: #8596CF;
      color: white;
      cursor: pointer;
      border-radius: 5px;
      transition: background-color 0.3s ease; /* Плавный переход цвета */
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Тень */
    }

    .pagination button:hover {
      background-color: #6377b3; /* Затемнение при наведении */
    }

    .pagination button:focus {
      outline: none; /* Убираем обводку при фокусе */
      box-shadow: 0 0 5px rgba(133, 150, 207, 0.5); /* Свечение при фокусе */
    }

    /* Медиа-запрос для мобильных устройств */
    @media (max-width: 768px) {
      main {
        width: 100%; /* Занимаем почти всю ширину экрана на мобильных */
      }

      .post-container {
        width: 100%; /* Занимаем 90% ширины main на мобильных */
        height: 100%; /* Увеличиваем высоту на мобильных */
    }

      .pagination button {
        padding: 6px 12px; /* Уменьшаем размер кнопок на мобильных */
        margin: 3px;
      }
      #telegram-posts {
      overflow-x: hidden; /* Убираем горизонтальную прокрутку */
    }
    }
  </style>
</head>
<body>
    <header>
        <div class="top-bar">
            <div class="top-bar-content">
                <div class="logo-main">
                    <a href="index.html">
                        <img src="images/logo.png" alt="Логотип TROTA_project">
                        <span>Главная</span>
                    </a>
                </div>
                <div class="search-box">
                    <input type="text" placeholder="Поиск">
                    <button type="submit">
                        <img src="images/icons/search.png" alt="Поиск">
                    </button>
                </div>
                <a href="#" id="login-link">Войти</a>
                <div id="profile-container">
                    <div class="profile-circle">
                        <img id="profile-image" src="" alt="Ваш профиль">
                    </div>
                    <span id="profile-name"></span>
                    <button id="logout-button">Выйти</button>
                    <button type="button" id="download-profile">Скачать профиль</button>
                </div>
            </div>
        </div>
    </header>

    <div class="banner">
        <img src="images/banner.png" alt="Баннер TROTA_project">
    </div>

    <div class="content-wrapper">
        <button class="menu-toggle">Меню</button>
        <nav>
            <ul class="menu">
                <li class="fade-in"><a href="series.html"><img src="images/icons/series.png" alt="Серии"><span>Серии</span></a></li>
                <li class="fade-in"><a href="news.html"><img src="images/icons/news.png" alt="Новости"><span>Новости</span></a></li>
                <li class="fade-in"><a href="trotapedia.html"><img src="images/icons/wiki.png" alt="Тротапедия"><span>Тротапедия</span></a></li>
                <li class="fade-in"><a href="books.html"><img src="images/icons/books.png" alt="Книги"><span>Книги</span></a></li>
                <li class="fade-in"><a href="songs.html"><img src="images/icons/songs.png" alt="Песни"><span>Песни</span></a></li>
                <li class="fade-in"><a href="fanzone.html"><img src="images/icons/fanzone.png" alt="Фан-зона"><span>Фан-зона</span></a></li>
                <li class="fade-in"><a href="games.html"><img src="images/icons/games.png" alt="Игры"><span>Игры</span></a></li>
                <li class="fade-in"><a href="merch.html"><img src="images/icons/merch.gif" alt="Мерч"><span>Мерч</span></a></li>
                <li class="fade-in"><a href="community.html"><img src="images/icons/community.png" alt="Сообщество"><span>Сообщество</span></a></li>
                <li class="fade-in"><a href="schedule.html"><img src="images/icons/schedule.gif" alt="График выхода"><span>График</span></a></li>
                <li class="fade-in"><a href="gallery.html"><img src="images/icons/gallery.png" alt="Галерея"><span>Галерея</span></a></li>
                <li class="fade-in"><a href="feedback.html"><img src="images/icons/feedback.png" alt="Обратная связь"><span>Обратная связь</span></a></li>
                <li class="fade-in"><a href="creators.html"><img src="images/icons/creators.gif" alt="О создателях"><span>Создатели</span></a></li>
            </ul>
        </nav>

        <div class="main-content">
            <div class="info-block">
                <div class="logo">
                    <a href="index.html">
                        <img src="images\icons\news.png" alt="Логотип TROTA_project">
                    </a>
                </div>
                <div class="description">
                    <h1>Новости</h1>
                    <p id="short-description">
                        Дублируем посты из телеграма
                    </p>
                </div>
            </div>

            <main>
                <div id="telegram-posts">
                    <!-- Сюда будут добавляться посты -->
                  </div>
                
                  <div class="pagination">
                    <!-- Кнопки для страниц будут добавлены сюда -->
                  </div>
                
                  <script>
                    const container = document.getElementById('telegram-posts');
                    const channel = 'TROTA_project';
                    const postsPerPage = 5;
                
                    // **ВАЖНО: массив списка номеров постов**
                    const availablePosts = [
                    1521, 1520, 1518, 1509, 1501, 1493, 1489, 1478, 1475, 1472, 1469, 1449,
  1445, 1440, 1435, 1430, 1427, 1426, 1414, 1406, 1405, 1404,
  1403, 1400, 1396, 1395, 1380, 1372, 1367, 1329, 1318, 1311,
  1310, 1305, 1304, 1303, 1301, 1298, 1295, 1290, 1289, 1280,
  1279, 1277, 1271, 1270, 1268, 1249, 1244, 1241, 1239, 1237,
  1235, 1234, 1231, 1229, 1228, 1226, 1224, 1221, 1219, 1212,
  1167, 1163, 1152, 1148, 1017, 987, 966, 964, 938, 936,
  931, 915, 909, 900, 896, 889, 881, 870, 868, 857
];
                
const paginationContainer = document.querySelector('.pagination');
    let totalPages = Math.ceil(availablePosts.length / postsPerPage); // Общее количество страниц

    function createPostScripts(postNumber) {
      const postScript = document.createElement('script');
      postScript.async = true;
      postScript.src = "https://telegram.org/js/telegram-widget.js?22";
      postScript.dataset.telegramPost = `${channel}/${postNumber}`;
      postScript.dataset.width = "100%";
      postScript.dataset.color = "8596CF";
      postScript.dataset.dark = "1";

      const discussionScript = document.createElement('script');
      discussionScript.async = true;
      discussionScript.src = "https://telegram.org/js/telegram-widget.js?22";
      discussionScript.dataset.telegramDiscussion = `${channel}/${postNumber}`;
      discussionScript.dataset.commentsLimit = "5";
      discussionScript.dataset.color = "8596CF";
      discussionScript.dataset.dark = "1";

      return [postScript, discussionScript];
    }

    function loadPage(pageNumber) {
      container.innerHTML = ''; // Очищаем контейнер

      const startIndex = (pageNumber - 1) * postsPerPage;
      const endIndex = Math.min(startIndex + postsPerPage, availablePosts.length);

      // Отображаем посты в прямом порядке (с начала массива)
      for (let i = startIndex; i < endIndex; i++) {
        const postNumber = availablePosts[i];

        // Создаем контейнер для поста
        const postContainer = document.createElement('div');
        postContainer.classList.add('post-container'); // Добавляем класс для стилизации

        const [postScript, discussionScript] = createPostScripts(postNumber);
        postContainer.appendChild(postScript);
        postContainer.appendChild(discussionScript);

        container.appendChild(postContainer); // Добавляем контейнер поста в главный контейнер
      }
    }

    function createPaginationButtons() {
      paginationContainer.innerHTML = ''; // Очищаем кнопки пагинации

      for (let i = 1; i <= totalPages; i++) {
        const button = document.createElement('button');
        button.innerText = i;
        button.addEventListener('click', () => {
          loadPage(i);
        });
        paginationContainer.appendChild(button);
      }
    }

    // Инициализация:
    createPaginationButtons(); // Создаем кнопки пагинации
    loadPage(1); // Загружаем первую страницу
  </script>
  
            </main>
        </div>
    </div>

    <footer id="social-links">
    <table>
        <tr>
            <td><a href="https://vk.com/trota_project"><img src="images\icons\vk.png" alt="ВКонтакте"><span>ВКонтакте</span></a></td>
            <td><a href="https://t.me/TROTA_project"><img src="images\icons\tg.png" alt="Telegram"><span>Telegram</span></a></td>
            <td><a href="https://www.youtube.com/@TROTA_project"><img src="images\icons\youtube.png" alt="YouTube"><span>YouTube</span></a></td>
        </tr>
        <tr>
            <td><a href="https://boosty.to/trota_project"><img src="images\icons\boosty.png" alt="Boosty"><span>Boosty</span></a></td>
            <td><a href="https://www.tiktok.com/@trota_project"><img src="images\icons\tiktok.png" alt="TikTok"><span>TikTok</span></a></td>
            <td><a href="https://t.me/VicaTea"><img src="images\icons\autor.png" alt="Автор"><span>Автор</span></a></td>
        </tr>
    </table>
    <br>
    <p>© 2025 TROTA_project. Все права защищены.</p>
</footer>

    <!-- Модальное окно -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Описание</h2>
            <p>Здесь выходит мультсериал "Тише, дорогая Мита", который подходит для подростков и взрослых (16+).</p>
            <p>Девочка-подросток Мита из малого технического городка чувствует себя очень подавленно и одиноко из-за ссор с отцом. Во время побега ее сбивает фургон двух эксцентричных, но добрых актеров, что помогают людям из больших городов решать проблемы при помощи особой методики – куклотерапии.</p>
            <p>Ссылки: <a href="https://t.me/TROTA_project">Телеграм</a>, <a href="https://vk.com/trota_project">ВК</a>
            </p>, <a href="https://www.youtube.com/@TROTA_project">Ютуб</a></p>,
            <a href="https://boosty.to/trota_project">Поддержать</a></p>
            <button id="copy-link-modal">Поделиться сайтом</button>
        </div>
    </div>
    <!-- Модальное окно для профиля -->
    <div id="profile-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="profile-modal-close">&times;</span>
            <h2>Создание профиля</h2>
            <form id="profile-form">
                <label for="name">Имя:</label><br>
                <input type="text" id="name" name="name"><br><br>

                <label for="age">Возраст:</label><br>
                <input type="number" id="age" name="age"><br><br>

                <label for="photo">Фото профиля:</label><br>
                <input type="file" id="photo" name="photo" accept="image/*"><br><br>

                <label for="world">Выберите мир:</label><br>
                <select id="world" name="world">
                    <option value="books">Книги (Флагеба)</option>
                    <option value="series">Сериал (Техно)</option>
                </select><br><br>

                <div id="books-options" style="display: none;">
                    <label for="element">Стихия:</label><br>
                    <input type="text" id="element" name="element"><br>
                    <p>Ваша раса: <span id="race"></span></p><br>
                </div>

                <div id="series-options" style="display: none;">
                    <label for="color">Любимый цвет для рамки профиля:</label><br>
                    <input type="color" id="color" name="color" value="#000000"><br><br>
                </div>

                <label for="character">Выберите персонажа:</label><br>
                <select id="character" name="character">
                    <option value="Mitaella">Митаэлла</option>
                    <option value="Pavel">Павел</option>
                    <option value="Polina">Полина</option>
                    <option value="Lelya">Лёля</option>
                    <option value="Kamilla">Камилла</option>
                    <option value="Vano">Вано</option>
                    <option value="Don Grigoryev">Дон Григорьев</option>
                    <option value="Yasherka">Ящерка</option>
                    <option value="Limmanuel">Лиммануэль</option>
                    <option value="Nina">Нина</option>
                    <option value="Malvina">Мальвина</option>
                    <option value="Adelaida">Аделаида</option>
                    <option value="Teo">Тео</option>
                    <option value="Loki">Локи</option>
                </select><br><br>

                <button type="button" id="save-profile">Сохранить профиль</button>
                <button type="button" id="load-profile">Загрузить профиль</button>

            </form>
        </div>
    </div>

    <script>
        const showMoreLink = document.getElementById('show-more');
        const modal = document.getElementById('modal');
        const closeBtn = document.querySelector('.close');
        const copyLinkButtonModal = document.getElementById('copy-link-modal');

        showMoreLink.addEventListener('click', function(event) {
            event.preventDefault(); // Предотвращаем переход по ссылке
            modal.style.display = 'block'; // Показываем модальное окно
        });

        closeBtn.addEventListener('click', function() {
            modal.style.display = 'none'; // Закрываем модальное окно
        });

        window.addEventListener('click', function(event) {
            if (event.target == modal) {
                modal.style.display = 'none'; // Закрываем модальное окно при клике вне его
            }
        });

       copyLinkButtonModal.addEventListener('click', function() {
            navigator.clipboard.writeText(window.location.href)
                .then(() => {
                    alert('Ссылка скопирована!');
                })
                .catch(err => {
                    console.error('Не удалось скопировать ссылку: ', err);
                    alert('Не удалось скопировать ссылку (браузер не поддерживает)');
                });
        });
    </script>
    <script src="js/main.js"></script>
    <script src="js/profile.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
          const quizOptions = document.querySelectorAll('.quiz-option');
      
          quizOptions.forEach(option => {
            option.addEventListener('click', function() {
              const isCorrect = this.dataset.answer === 'true';
              const feedbackElement = this.closest('.quiz').querySelector('.quiz-feedback');
      
              // Сбрасываем стили с других кнопок
              quizOptions.forEach(o => {
                o.classList.remove('correct', 'incorrect');
              });
      
              if (isCorrect) {
                this.classList.add('correct');
                feedbackElement.textContent = 'Верно!';
              } else {
                this.classList.add('incorrect');
                feedbackElement.textContent = 'Неверно. Попробуйте еще раз.';
              }
            });
          });
        });
      </script>
</body>
</html>